<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<div class="chat-container">
  <aside class="sidebar">
    <a class="menu-item">
      <span class="icon home"><i class="fa-solid fa-home"></i></span>
      <span class="label">Inicio</span>
    </a>
    <a class="menu-item">
      <span class="icon profile"><i class="fa-solid fa-user"></i></span>
      <span class="label">Perfil</span>
    </a>
    <a href="/historial" class="menu-item">
      <span class="icon clock"><i class="fa-solid fa-clock"></i></span>
      <span class="label">Historial</span>
    </a>
    <a class="menu-item">
      <span class="icon menu"><i class="fa-solid fa-message"></i></span>
      <span class="label">Chat</span>
    </a>
  </aside>

  <main class="chat-window">
    <header class="chat-header">
      THERAPIST CHATBOT
    </header>

    <section class="messages">
      <div *ngFor="let msg of messages" 
           [class.bot]="msg.role === 'assistant'"
           [class.user]="msg.role === 'user'"
           class="message">
        <div *ngIf="msg.role === 'user'" class="avatar"></div>
        <div class="text">{{msg.content}}</div>
      </div>
      <div *ngIf="loading" class="message bot">Thinking...</div>
    </section>

    <footer class="chat-input">
      <input [(ngModel)]="userInput" 
             (keyup.enter)="sendMessage()"
             type="text" 
             placeholder="Type a message..." />
      <button (click)="sendMessage()">
        <span class="send"><i class="fa-solid fa-paper-plane"></i></span>
      </button>
    </footer>
  </main>
</div>